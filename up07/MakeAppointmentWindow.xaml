<Window x:Class="up07.MakeAppointmentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:up07"
        mc:Ignorable="d"
        Title="Запись на прием" Height="600" Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Шапка -->
        <Border Grid.Row="0" Background="#4CAF50">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="📅 Запись на прием к врачу" 
                           FontSize="22" 
                           FontWeight="Bold" 
                           Foreground="White"/>
            </StackPanel>
        </Border>

        <!-- Форма -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Border Background="White" 
                    CornerRadius="10" 
                    Margin="30,20,30,30"
                    Padding="30">
                <StackPanel>

                    <!-- Специальность -->
                    <TextBlock Text="Выберите специальность:" FontSize="14" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox x:Name="SpecialtyComboBox" 
                              Height="35" 
                              FontSize="14"
                              BorderBrush="#BDBDBD" 
                              BorderThickness="1" 
                              Margin="0,0,0,15"
                              SelectionChanged="SpecialtyComboBox_SelectionChanged"
                              DisplayMemberPath="Name"
                              SelectedValuePath="SpecialtyId"/>

                    <!-- Врач -->
                    <TextBlock Text="Выберите врача:" FontSize="14" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox x:Name="DoctorComboBox" 
                              Height="35" 
                              FontSize="14"
                              BorderBrush="#BDBDBD" 
                              BorderThickness="1" 
                              Margin="0,0,0,15"
                              SelectionChanged="DoctorComboBox_SelectionChanged"
                              DisplayMemberPath="FullName"
                              SelectedValuePath="DoctorId"/>

                    <!-- Информация о враче -->
                    <Border x:Name="DoctorInfoBorder" 
                            Visibility="Collapsed"
                            Background="#E8F5E9" 
                            CornerRadius="5" 
                            Padding="10" 
                            Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock x:Name="DoctorInfoText" 
                                       FontSize="13" 
                                       Foreground="#2E7D32" 
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>

                    <!-- Дата -->
                    <TextBlock Text="Выберите дату:" FontSize="14" Foreground="#555" Margin="0,0,0,5"/>
                    <DatePicker x:Name="AppointmentDatePicker" 
                                Height="35" 
                                FontSize="14"
                                BorderBrush="#BDBDBD" 
                                BorderThickness="1" 
                                Margin="0,0,0,15"
                                SelectedDateChanged="AppointmentDatePicker_SelectedDateChanged"/>
                    <!-- Время -->
                    <TextBlock Text="Выберите время:" FontSize="14" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox x:Name="TimeComboBox" 
                              Height="35" 
                              FontSize="14"
                              BorderBrush="#BDBDBD" 
                              BorderThickness="1" 
                              Margin="0,0,0,15"
                              IsEnabled="False"/>

                    <!-- Тип приема -->
                    <TextBlock Text="Тип приема:" FontSize="14" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox x:Name="TypeComboBox" 
                              Height="35" 
                              FontSize="14"
                              BorderBrush="#BDBDBD" 
                              BorderThickness="1" 
                              Margin="0,0,0,20">
                        <ComboBoxItem Content="Первичный прием" IsSelected="True"/>
                        <ComboBoxItem Content="Повторный прием"/>
                        <ComboBoxItem Content="Консультация"/>
                        <ComboBoxItem Content="Профилактический осмотр"/>
                    </ComboBox>

                    <!-- Кнопки -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Button Grid.Column="0"
                                Content="Отмена" 
                                Height="40" 
                                FontSize="14"
                                Background="#757575"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                Click="CancelButton_Click"/>

                        <Button Grid.Column="2"
                                Content="Записаться" 
                                Height="40" 
                                FontSize="14"
                                FontWeight="SemiBold"
                                Background="#4CAF50"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                Click="ConfirmButton_Click"/>
                    </Grid>

                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</Window>
